
# 示例 1: x 的平方是否大于 0?

1. 浮点型: 是的

2. 整型: 不一定

```
# gdb

(gdb) print 40000 * 40000
$1 = 1600000000
(gdb) print 50000 * 50000
$2 = -1794967296
(gdb)
```

因为计算机期望是 32-bit 的值, 乘法运算后得到的格式恰好是一个负数的格式.

另外一个例子

```
(gdb) print 300*400*500*600
$3 = 1640261632
```

同理, 这个也发生了同样的事情.

发生溢出了, 结果可能是正数, 也可能是负数, 但显然不是这四个数的整数乘积.

# 示例 2: (x + y) + z 是否等于 x + (y + z)

1. 有符号整型和无符号整型: 相等

尽管乘法和加法两种运算都有溢出风险, 但符合交换律和结合律

```
(gdb) print 300*400*500*600
$3 = 1640261632
(gdb) print 400*500*600 * 300
$4 = 1640261632
```

2. 浮点型

```
(gdb) print (1e20 + -1e20) + 3.14
$5 = 3.1400000000000001
(gdb) print 1e20 + (-1e20 + 3.14)
$6 = 0
```

相对于 -1e20, 3.14简直太小了. 因为浮点数取值范围比较极端, 所以一些数字会消失.



